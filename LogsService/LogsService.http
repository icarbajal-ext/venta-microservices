@LogsService_HostAddress = http://localhost:5299

GET {{LogsService_HostAddress}}/weatherforecast/
Accept: application/json

###

### LogsService API Tests - MVC Architecture

### Variables
@baseUrl = https://localhost:7004
@token = 

### 1. Get all logs (Admin only)
GET {{baseUrl}}/api/logs
Authorization: Bearer {{token}}
Accept: application/json

### 2. Search logs with filters
GET {{baseUrl}}/api/logs/search?service=UsersService&level=ERROR&fromDate=2024-01-01&toDate=2024-12-31&page=1&pageSize=20
Authorization: Bearer {{token}}
Accept: application/json

### 3. Get my logs (current user)
GET {{baseUrl}}/api/logs/my-logs
Authorization: Bearer {{token}}
Accept: application/json

### 4. Get log by ID (Admin only)
GET {{baseUrl}}/api/logs/1
Authorization: Bearer {{token}}
Accept: application/json

### 5. Get logs by service (Admin only)
GET {{baseUrl}}/api/logs/service/ProductsService
Authorization: Bearer {{token}}
Accept: application/json

### 6. Get logs by level (Admin only)
GET {{baseUrl}}/api/logs/level/ERROR
Authorization: Bearer {{token}}
Accept: application/json

### 7. Create new log entry
POST {{baseUrl}}/api/logs
Authorization: Bearer {{token}}
Content-Type: application/json

{
    "service": "UsersService",
    "level": "INFO",
    "message": "User performed action successfully",
    "requestId": "REQ-TEST-001",
    "ipAddress": "192.168.1.105",
    "additionalData": "Action: UpdateProfile"
}

### 8. Get log summary (Admin only)
GET {{baseUrl}}/api/logs/summary?fromDate=2024-01-01&toDate=2024-12-31
Authorization: Bearer {{token}}
Accept: application/json

### 9. Get log statistics (Admin only)
GET {{baseUrl}}/api/logs/stats?fromDate=2024-01-01&toDate=2024-12-31
Authorization: Bearer {{token}}
Accept: application/json

### 10. Get log count (Admin only)
GET {{baseUrl}}/api/logs/count?service=PaymentsService&level=ERROR
Authorization: Bearer {{token}}
Accept: application/json

### 11. Delete old logs (Admin only)
DELETE {{baseUrl}}/api/logs/cleanup?beforeDate=2024-01-01
Authorization: Bearer {{token}}

### 12. Get available services (public)
GET {{baseUrl}}/api/logs/services
Accept: application/json

### 13. Get available log levels (public)
GET {{baseUrl}}/api/logs/levels
Accept: application/json

### Instructions:
# 1. Get a JWT token from UsersService login
# 2. Replace {{token}} with the actual token
# 3. Admin token required for most endpoints
# 4. Regular users can only see their own logs and create log entries

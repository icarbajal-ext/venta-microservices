@UsersService_HostAddress = http://localhost:5110

GET {{UsersService_HostAddress}}/weatherforecast/
Accept: application/json

### UsersService API Tests - MVC Architecture

### Variables
@baseUrl = https://localhost:7001
@adminToken = 
@userToken = 

### 1. Register a new user
POST {{baseUrl}}/api/auth/register
Content-Type: application/json

{
    "username": "testuser",
    "email": "testuser@example.com",
    "password": "password123",
    "firstName": "Test",
    "lastName": "User"
}

### 2. Login with admin user
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
    "username": "admin",
    "password": "password123"
}

### 3. Login with regular user
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
    "username": "user1",
    "password": "password123"
}

### 4. Get current user profile (requires authentication)
GET {{baseUrl}}/api/users/profile
Authorization: Bearer {{userToken}}

### 5. Get all users (Admin only)
GET {{baseUrl}}/api/users
Authorization: Bearer {{adminToken}}

### 6. Get user by ID (self or admin)
GET {{baseUrl}}/api/users/1
Authorization: Bearer {{adminToken}}

### 7. Update user profile
PUT {{baseUrl}}/api/users/profile
Authorization: Bearer {{userToken}}
Content-Type: application/json

{
    "email": "newemail@example.com",
    "firstName": "Updated",
    "lastName": "Name"
}

### 8. Change password
POST {{baseUrl}}/api/users/change-password
Authorization: Bearer {{userToken}}
Content-Type: application/json

{
    "currentPassword": "password123",
    "newPassword": "newpassword123"
}

### 9. Deactivate user (Admin only)
DELETE {{baseUrl}}/api/users/2
Authorization: Bearer {{adminToken}}

### Instructions:
# 1. First, do login requests (#2 or #3) to get tokens
# 2. Copy the "token" value from the response
# 3. Replace {{adminToken}} or {{userToken}} with the actual token
# 4. Run the protected endpoints
